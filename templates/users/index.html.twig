{% extends 'base.html.twig' %}
{% block body %}
    <div>
        {{ form_start(form) }}
            {{ form_row(form.name) }}
            {{ form_row(form.nickname, {'attr': {'onchange': 'this.form.submit()'}}) }}
            {{ form_row(form.email) }}
            {{ form_row(form.role, {'attr': {'onchange': 'this.form.submit()'}}) }}
            {{ form_row(form.id) }}

            <button type="submit" class="btn">Filter</button>
            <a href="{{ path('app_users_list') }}" type="submit" class="btn">Reset</a>
        {{ form_end(form) }}
    </div>
    <div class="box">
        <table class="table table-bordered table-hover">
            <thead>
            <tr>
                <th>{{ knp_pagination_sortable(pagination, 'ID', 'id') }}</th>
                <th>{{ knp_pagination_sortable(pagination, 'Name', 'name') }}</th>
                <th>{{ knp_pagination_sortable(pagination, 'Status', 'status') }}</th>
                <th>{{ knp_pagination_sortable(pagination, 'Nickname', 'nickname') }}</th>
            </tr>
            </thead>
            <tbody>
                {% for user in pagination %}
                    <tr>
                        <td><p><a href="{{ path('app_users_show', {'nicknameOrId': user.nickname ?: user.id}) }}">{{ user.id }}</a></p></td>
                        <td>{{ user.name }}</td>
                        <td>{{ user.nickname }}</td>
                        <td>{{ user.status }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="navigation">
        {{ knp_pagination_render(pagination) }}
    </div>
{% endblock %}
